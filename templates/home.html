<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link type="favicon" href="/static/img/twitter.png" rel="shortcut icon">
    <link rel="stylesheet" href="../static/style.css">
    <meta author="Guilherme Marques de Sá">
    <title>Página Inicial | Clone do Twitter</title>
</head>
<body>
    
    <nav>
        <div id="logo">
            <img src="/static/img/twitter.png" width="50px" alt="Twitter Logo">
        </div>
        <ul class="nav_links">
            <li><a href="/feed" style="font-weight: bold;"> <img src="/static/img/home.png" width="30px" alt="Página Inicial"> Página Inicial</a></li>
            <li><a href="/search"> <img src="/static/img/search.png" width="30px" alt="Explorar"> Explorar</a></li>
            <li><a href="/notifications"> <img src="/static/img/bell.png" width="30px" alt="Notificações"> Notificações</a></li>
            <li><a href="/saved_items"> <img src="/static/img/save-instagram.png" width="30px" alt="Itens Salvos"> Itens salvos</a></li>
            <li><a href="/profile"> <img src="/static/img/user.png" width="30px" alt="Perfil"> Perfil</a></li>
            <li><a href="/logout"> <img src="/static/img/logout.png" width="30px" alt="Sair"> Sair</a></li>
        </ul>
        <button id="btn0">Postar</button>
    </nav>

    <section>
        <h1>Página Inicial</h1>

        <form action="/post" method="POST" class="post_form">
            <div class="post_form_up">
                <img src="/static/img/user.png" width="50px" alt="Usuário">
                <input type="text" name="content" placeholder="O que está acontecendo?" required>
            </div>
            <div class="post_form_down">
                <button type="submit" id="btn1">Postar</button>
            </div>
        </form>
        
        <div class="feed">
            {% for tweet in tweets %}
            <div class="tweet">
                <div class="tweet-avatar">
                    <img src="/static/img/user.png" width="48px" alt="Avatar">
                </div>
                <div class="tweet-content">
                    <div class="tweet-header">
                        <span class="tweet-name">{{ tweet.user.username }}</span>
                        <span class="tweet-username">@{{ tweet.user.username }}</span>
                        <span class="tweet-time">· {{ tweet.created_at.strftime('%d/%m/%Y %H:%M') }}</span>
                    </div>
                    <div class="tweet-text">
                        {{ tweet.content }}
                    </div>
                    <div class="tweet-actions">
                        <div class="tweet-action">
                            <button><img src="../static/img/coment.png" width="15px"></button>
                            <span id="reaction_count1">0</span>
                        </div>
                        <div class="tweet-action">
                            <button><img src="../static/img/repeat.png" width="15px"></button>
                            <span id="reaction_count2">0</span>
                        </div>
                        <div class="tweet-action">
                            <button><img src="../static/img/heart.png" width="15px"></button>
                            <span id="reaction_count3">0</span>
                        </div>
                        <div class="tweet-action">
                            <a href="/save_tweet/{{ tweet.id }}"><img src="../static/img/save-instagram.png" width="15px"></a>
                            <span id="reaction_count4">0</span>
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </section>

    <aside>
        <div class="profile-summary">
            <img src="/static/img/user.png" width="60px" alt="Perfil">
            <h3>{{ session['username'] }}</h3>
            <p>@{{ session['username'] }}</p>
        </div>

        <form method="GET" action="{{ url_for('search') }}">
            <input type="text" name="q" id="search1" placeholder="Buscar">
            <button type="submit">Buscar</button>
        </form>

        <div class="who_to_follow">
            <h2>Quem seguir</h2>
            <ul>
                {% for user in users %}
                    {% if user.id != session['user_id'] %}
                    <li>
                        <img src="/static/img/user.png" width="30px" alt="Usuário">
                        <span>{{ user.username }}</span>
                        <a href="/follow/{{ user.id }}" class="follow-btn">Seguir</a>
                    </li>
                    {% endif %}
                {% endfor %}
            </ul>
        </div>

        <div class="footer">
            <p>&copy; 2023 Clone do Twitter. Todos os direitos reservados.</p>
            <p>Feito por Guilherme Marques de Sá</p>
        </div>
    </aside>

    <script src="/static/script.js"></script>
</body>
</html>
